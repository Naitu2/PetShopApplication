@using PetShopApplication.ViewComponents
@model PetShopApplication.ViewComponents.AnimalListViewModel

@{
    ViewData["Title"] = "Index";
    var categories = ViewBag.Categories as List<string>;
    var selectedCategory = Context.Request.Query["SelectedCategory"];
}

@section selectCategorySection {
    <select class="categorySelect">
        <option value="">All Categories</option>
        @foreach (var category in categories)
        {
            if (category == selectedCategory)
            {
                <option value="@category" selected>@category</option>
            }
            else
            {
                <option value="@category">@category</option>
            }
        }
    </select>
}

@await Component.InvokeAsync("AnimalList", Model)
